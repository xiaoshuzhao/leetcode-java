### 42. 接雨水☔️

Trapping Rain Water

Given `n` non-negative integers representing an elevation map where the width of each bar is `1`, compute how much water it can trap after raining.

```
Input: height = [0,1,0,2,1,0,1,3,2,1,2,1]
Output: 6
```



#### 【单调栈】

单调递减，

```java
class Solution {
    public int trap(int[] height) {
        Stack<Integer> stack = new Stack<Integer>();
        int water = 0;
        if (height.length < 3) {
            return 0;
        }
        for (int i = 0; i < height.length; i++) {
            while (!stack.isEmpty() && height[i] > height[stack.peek()]) {
                int num = stack.pop();
                while (!stack.isEmpty() && height[num] == height[stack.peek()]) {
                    stack.pop();
                }
                if(!stack.isEmpty()) {
                    int tmp = height[stack.peek()];
                    int high = Math.min(tmp-height[num], height[i] - height[num]);
                    int wid = i - stack.peek() - 1;
                    water += high * wid;
                }
            }
            stack.push(i);
        }
        return water;
    }
    
}
```





[Back to List](https://github.com/xiaoshuzhao/leetcode-notes-java/blob/main/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%A0%88%E4%B8%8E%E9%98%9F%E5%88%97/Stack%20%26%20Queue%20List.md)
